function l(a,e){return{id:null,state:null,statePath:null,wire:null,disabled:!1,progress:0,processing:!1,img:{src:null,urlPrefix:null,dataUri:!1},get imgSrc(){return this.img.src&&!this.img.dataUri?this.img.urlPrefix+this.img.src:this.img.src&&this.img.dataUri?this.img.src:null},init(){this.id=e.id,this.statePath=e.statePath,this.disabled=e.disabled,this.wire=e.$wire,this.state=a,this.img.src=a.initialValue,this.img.urlPrefix=e.urlPrefix},async deleteFile(){this.img.src=null,await this.$wire.$set(this.statePath,null)},uploadFile(i){this.processing=!0,this.progress=0,this.readFile(i.target.files[0],(async(s,t)=>{await this.$wire.upload(this.statePath,s,r=>this.uploadSuccess(t,r),r=>{this.processing=!1,this.progress=0},r=>this.progress=r.detail.progress)}).bind(this))},uploadSuccess(i,s){this.img.dataUri=!0,this.img.src=i,this.processing=!1},readFile(i,s){var t=new FileReader;t.onload=()=>s(i,t.result),t.readAsDataURL(i)}}}export{l as default};
